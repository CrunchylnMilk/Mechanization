#Upgrades Tools
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:blaze_powder", Count: 32b},{id:"minecraft:lava_bucket", Count: 1b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_auto_smelt
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:redstone", Count: 48b},{id:"minecraft:sugar", Count: 32b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_empowered
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:iron_ingot", Count: 16b},{id:"minecraft:red_dye", Count: 32b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_magnetic
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:ender_eye", Count: 4b},{id:"minecraft:lava_bucket", Count: 1b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_trash
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:tnt", Count: 8b},{id:"minecraft:quartz", Count: 32b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_smash

#Upgrades Weapons
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:prismarine_crystals", Count: 16b},{id:"minecraft:blaze_powder", Count: 64b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_attack_damage
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:sugar", Count: 64b},{id:"minecraft:chorus_fruit", Count: 32b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_attack_speed
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:glowstone_dust", Count: 64b},{id:"minecraft:golden_carrot", Count: 8b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_glowing
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:fermented_spider_eye", Count: 24b},{id:"minecraft:pufferfish", Count: 24b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_poison
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:ice", Count: 32b},{id:"minecraft:soul_sand", Count: 32b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_slowness
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:ghast_tear", Count: 8b},{id:"minecraft:glistering_melon_slice", Count: 32b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_vampiric
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:spider_eye", Count: 32b},{id:"minecraft:prismarine_shard", Count: 64b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_weakness
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:wither_skeleton_skull", Count: 4b},{id:"minecraft:nether_star", Count: 1b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_wither

#Upgrades Armor
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:obsidian", Count: 32b},{id:"minecraft:slime_ball", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_armor
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:shulker_shell", Count: 2b},{id:"minecraft:slime_block", Count: 4b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_knockback_resistance
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:sugar", Count: 48b},{id:"minecraft:rabbit_foot", Count: 8b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_speed
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:glistering_melon_slice", Count: 48b},{id:"minecraft:ender_pearl", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_health

execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:scute", Count: 4b},{id:"minecraft:dead_tube_coral_block", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_armor_toughness
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:scute", Count: 4b},{id:"minecraft:dead_brain_coral_block", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_armor_toughness
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:scute", Count: 4b},{id:"minecraft:dead_bubble_coral_block", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_armor_toughness
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:scute", Count: 4b},{id:"minecraft:dead_fire_coral_block", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_armor_toughness
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:scute", Count: 4b},{id:"minecraft:dead_horn_coral_block", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_armor_toughness

execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:milk_bucket", Count: 1b},{id:"minecraft:charcoal", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_antidote
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:piston", Count: 16b},{id:"minecraft:cake", Count: 1b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_auto_eater
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:elytra", Count: 1b},{id:"minecraft:ender_eye", Count: 64b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_flight
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:golden_carrot", Count: 24b},{id:"minecraft:prismarine_crystals", Count: 32b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_night_vision
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:enchanted_golden_apple", Count: 1b},{id:"minecraft:redstone_block", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_shield
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:white_wool", Count: 64b},{id:"minecraft:slime_block", Count: 8b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_slowfall
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:ender_eye", Count: 64b},{id:"minecraft:glowstone", Count: 64b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_true_invisibility
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:pufferfish", Count: 16b},{id:"minecraft:scute", Count: 8b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_water_breathing

#guns
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:packed_ice", Count: 16b},{id:"minecraft:snow_block", Count: 64b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/cryo_unit
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:piston", Count: 16b},{id:"minecraft:hopper", Count: 16b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/fluid_actuator
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:hopper", Count: 16b},{id:"minecraft:redstone", Count: 64b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/plasma_pump
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:glowstone_dust", Count: 64b},{id:"minecraft:popped_chorus_fruit", Count: 32b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/super_charger
execute if block ~ ~ ~ barrel{Items:[{tag: {OreDict: ["upgradeBase"]}, Count: 1b},{id:"minecraft:slime_block", Count: 4b},{id:"minecraft:ender_pearl", Count: 8b}]} run loot replace block ~ ~ ~ container.16 loot mechanization:gadgets/upgrade_bouncy_projectiles


scoreboard players set temp_0 mech_data 0
execute if block ~ ~ ~ barrel{Items:[{Slot:16b}]} run scoreboard players set temp_0 mech_data 1
execute if score temp_0 mech_data matches 1 store result score $crafting.out_0 du_data run data get block ~ ~ ~ Items[{Slot:2b}].Count
execute if score temp_0 mech_data matches 1 store result score $crafting.out_1 du_data run data get block ~ ~ ~ Items[{Slot:3b}].Count
execute if score temp_0 mech_data matches 1 store result score $crafting.out_2 du_data run data get block ~ ~ ~ Items[{Slot:4b}].Count
execute if score temp_0 mech_data matches 1 store result score $crafting.out_3 du_data run data get block ~ ~ ~ Items[{Slot:11b}].Count
execute if score temp_0 mech_data matches 1 store result score $crafting.out_4 du_data run data get block ~ ~ ~ Items[{Slot:12b}].Count
execute if score temp_0 mech_data matches 1 store result score $crafting.out_5 du_data run data get block ~ ~ ~ Items[{Slot:13b}].Count
execute if score temp_0 mech_data matches 1 store result score $crafting.out_6 du_data run data get block ~ ~ ~ Items[{Slot:20b}].Count
execute if score temp_0 mech_data matches 1 store result score $crafting.out_7 du_data run data get block ~ ~ ~ Items[{Slot:21b}].Count
execute if score temp_0 mech_data matches 1 store result score $crafting.out_8 du_data run data get block ~ ~ ~ Items[{Slot:22b}].Count
